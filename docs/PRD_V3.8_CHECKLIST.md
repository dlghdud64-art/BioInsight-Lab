# PRD v3.8 구현 체크리스트

업데이트: 2024-12-28
PRD 버전: v3.8

## 📊 전체 진행률

```
P0 (MVP 핵심):          ████████████░░░░░░░░  60%
P0.5 (벤더 데이터):     ░░░░░░░░░░░░░░░░░░░░   0%
P1 (확장 기능):         ████████████████░░░░  80%
P2 (고도화):            ████████████████░░░░  80%
v3.8 신규 기능:         ░░░░░░░░░░░░░░░░░░░░   0%
```

---

## ✅ P0 - MVP 핵심 기능

### 4.1 고도화된 검색 & 필터

#### 기본 검색 ✅
- [x] 키워드 검색
- [x] 카테고리 필터
- [x] 벤더 필터
- [x] 가격 필터

#### v3.8 신규 - 특화 필터 ❌
- [ ] **CAS No. 필터** - 화학물질 고유 번호로 정밀 검색
- [ ] **Catalog No. 필터** - 제품 카탈로그 번호로 정밀 검색
- [ ] **Brand 필터** - 브랜드별 필터링
- [ ] **Purity(순도) 필터** - 순도 범위 지정 (예: 98%+)
- [ ] **보관 온도 필터** - 보관 조건별 필터링 (예: -20°C, RT)

#### v3.8 신규 - 비교 요약 뱃지 ❌
- [ ] **검색 결과에 뱃지 표시**
  - [ ] 순도 뱃지 (예: 99%)
  - [ ] Grade 뱃지 (예: ACS)
  - [ ] 재고 상태 (예: In-stock)
  - [ ] 납기 뱃지 (예: 3일 배송)

#### GPT 분석 ✅
- [x] 옵션 실행
- [x] 근거/확신 표시

---

### 4.2 검색 결과 & 제품 상세 ✅

- [x] 리스트: 제품명/벤더/카테고리/가격/요약
- [x] 액션: 비교 추가, 리스트 담기
- [x] 상세: 카탈로그번호/규격/단위/핵심 스펙

---

### 4.3 스펙 중심 비교 + 대체품

#### 기본 기능 ✅
- [x] 비교 테이블(키-값)
- [x] 대체품 후보 3개(조건/근거 표시)

#### v3.8 신규 - AI 비교 인사이트 ❌
- [ ] **한 줄 차이점 요약**
  - [ ] 비교 테이블 상단에 표시
  - [ ] 예시: "A사는 농도가 높고, B사는 납기가 3일 빠릅니다"
  - [ ] 핵심 차이점만 강조
  - [ ] 근거 링크 제공

---

### 4.4 구매요청 리스트 + 내보내기

#### 기본 기능 ✅
- [x] 편집/삭제/선택 삭제/총액
- [x] TSV 복사
- [x] CSV 다운로드
- [x] 엑셀 다운로드

#### v3.8 신규 - ERP 맞춤형 내보내기 ❌
- [ ] **양식 설정(Column Mapping) 팝업**
  - [ ] 엑셀 다운로드 시 양식 선택 팝업
  - [ ] 기업별 구매 시스템 양식 지원
    - [ ] SAP 양식
    - [ ] 내부 그룹웨어 양식
    - [ ] 커스텀 양식 저장
  - [ ] 컬럼 순서 매핑
  - [ ] 컬럼 이름 매핑
  - [ ] 양식 프리셋 저장/불러오기

---

### 4.5 프로토콜 기반 추출 (Mode B)

#### 기본 기능 ✅
- [x] 텍스트 붙여넣기 → AI 추출
- [x] JSON 스키마(zod) 고정
- [x] "확신 낮음" 표시
- [x] 수동 수정
- [x] 추출 품목을 비교/리스트로 바로 보내기

#### v3.8 신규 - Zero Data Retention (ZDR) ❌
- [ ] **보안 정책 명시**
  - [ ] "본 데이터는 학습에 사용되지 않습니다" 인디케이터
  - [ ] 입력창 옆에 보안 아이콘 표시
  - [ ] 추출 후 즉시 파기 로직 구현
  - [ ] 이용약관에 'AI 학습 제외' 조항 추가

#### v3.8 신규 - 출처 매칭 툴팁 ❌
- [ ] **Source Tooltip 구현**
  - [ ] 추출된 품목에 마우스 오버 시
  - [ ] 원문 텍스트의 해당 부분 하이라이트
  - [ ] 툴팁으로 원문 구절 표시
  - [ ] 클릭 시 원문 전체 보기

---

### 4.6 데이터시트 번역/요약 ✅

- [x] 텍스트 기반 우선
- [x] URL 입력 (Readability)
- [x] PDF 업로드/URL
- [x] 원문/요약/핵심 필드 분리
- [x] 고지: 참고용/원문 확인

---

### 4.7 홈/데모 3단 ✅

- [x] Step1 후보 생성(검색/프로토콜)
- [x] Step2 비교·대체
- [x] Step3 요청 준비(리스트/내보내기/공유)
- [x] 그룹웨어는 "출력 옵션"으로만 언급

---

## ⏳ P0.5 - 벤더 데이터 파이프라인

### Vendor Data Admin (내부 운영 화면) ❌

- [ ] **카탈로그 업로드**
  - [ ] xlsx/csv 파일 업로드
  - [ ] zod 스키마 검증
  - [ ] 에러 리포트

- [ ] **Staging & Diff**
  - [ ] staging 테이블 저장
  - [ ] 신규/변경/삭제 diff 표시
  - [ ] 변경사항 미리보기

- [ ] **승인 & Publish**
  - [ ] 관리자 승인 플로우
  - [ ] publish 버튼
  - [ ] 버전 관리
  - [ ] 적용일 설정

- [ ] **Verified 배지**
  - [ ] 제품 상세에 Verified 표시
  - [ ] 업데이트 날짜 표시
  - [ ] 벤더 제공 데이터 구분

---

## ✅ P1 - 관리·조직 기능

### 5.1 실험 패키지 템플릿 (v3.8 신규) ❌

- [ ] **실험군 템플릿**
  - [ ] 'Western Blot 필수 세트' 템플릿
  - [ ] 'Cell Culture 기본' 템플릿
  - [ ] 'PCR 실험' 템플릿
  - [ ] 템플릿 리스트 페이지
  - [ ] 템플릿 선택 → 품목 자동 추가

- [ ] **커스텀 패키지**
  - [ ] 현재 리스트를 템플릿으로 저장
  - [ ] 템플릿 이름/설명 입력
  - [ ] 팀 내 공유
  - [ ] 템플릿 수정/삭제

---

### 5.1 사용자/조직/권한 ✅

- [x] Workspace/팀
- [x] 역할(일반/관리자)
- [x] 공유 링크: 팀 공유 / 외부 공유(RFQ용)

---

### 5.2 리스트 저장/버전 ✅

- [x] v1/v2 스냅샷
- [x] 변경 이력/활동 로그
- [x] 버전 비교

---

### 5.3 RFQ 워크플로우 ✅

- [x] 상태: Draft → Sent → Replied → Selected → Closed
- [x] 회신 입력: 폼 / 엑셀 / 파일(PDF)

#### v3.8 신규 - Vendor Auto-Parsing ❌
- [ ] **비정형 엑셀 자동 파싱**
  - [ ] 벤더가 임의 형식으로 회신한 엑셀 업로드
  - [ ] AI가 단가/납기/MOQ 자동 추출
  - [ ] 비교 테이블에 자동 반영
  - [ ] 파싱 결과 검증 UI
  - [ ] 수동 수정 가능

---

### 5.4 예산 ✅

- [x] 예산 설정(프로젝트/팀/기간)
- [x] 총액/잔액/경고
- [x] 절감 제안(규칙 기반 + AI, 근거 표시)

---

### 5.5 대시보드 ✅

- [x] RFQ 현황 중심
- [x] 최근 리스트
- [x] 예산

---

### 5.6 벤더 포털(라이트) ⏳

#### 구현됨 ✅
- [x] 벤더 계정/권한

#### 미구현 ❌
- [ ] 데이터 관리
  - [ ] 카탈로그/가격표 업로드
  - [ ] diff 확인
  - [ ] publish
  - [ ] 버전/적용일

- [ ] RFQ 회신
  - [ ] 단가/납기/MOQ/대체품 입력
  - [ ] 폼/엑셀 회신

- [ ] 성과 지표 (선택)
  - [ ] RFQ 수
  - [ ] 회신률
  - [ ] 평균 회신 시간
  - [ ] 선정 신호

---

## ✅ P2 - 고도화

### 6. 안전·규제 ✅

#### P1 ✅
- [x] 제품 상세 안전·규제 섹션
- [x] msds_url 버튼
- [x] SAFETY_LINKS(공통 규제 링크)
- [x] safety_note(참고용)

#### P2 ✅
- [x] hazard 구조화
- [x] 안전관리자 뷰
- [x] 필터링 (고위험/MSDS 누락/규제 코드)
- [x] CSV 내보내기

---

### 7. AI/데이터 파이프라인

#### 신뢰성 원칙 ✅
- [x] 근거/확신 표시
- [x] 실패 fallback
- [x] 저장/보안 옵션

#### v3.8 신규 - Evidence-based AI ⏳
- [x] 모든 AI 결과에 근거 표시 (부분 구현)
- [ ] **'근거 문서' 링크 필수 첨부**
- [ ] **'원문 구절' 직접 인용**

---

### 8. 원료(원부자재) 확장 ✅

- [x] COA/규격/GMP/로트/유효기간 중심 필드
- [x] 원료 비교 뷰 강화
- [x] 카테고리 추가

---

### 9. 수익 모델 ✅

- [x] Free/Beta
- [x] Team
- [x] Enterprise
- [x] Billing UI
- [x] 업그레이드 모달

---

## 📋 v3.8 신규 기능 요약

### 🔍 검색 정밀화 (P0 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] CAS No. 필터
- [ ] Catalog No. 필터
- [ ] Brand 필터
- [ ] Purity(순도) 필터
- [ ] 보관 온도 필터
- [ ] 요약 뱃지 (순도/Grade/재고)

### 🤖 AI 신뢰성 UI (P0 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] 출처 매칭 툴팁 (Source Tooltip)
- [ ] AI 비교 인사이트 (한 줄 차이점 요약)
- [ ] Evidence-based AI (근거 문서/원문 구절 링크)

### 🔒 Zero Data Retention (P0 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] "본 데이터는 학습에 사용되지 않습니다" 보안 인디케이터
- [ ] 추출 후 즉시 파기 로직
- [ ] 이용약관에 'AI 학습 제외' 조항

### 🧪 실험 패키지 템플릿 (P1 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] 실험군 템플릿 ('Western Blot', 'Cell Culture' 등)
- [ ] 커스텀 패키지 저장/공유

### 📊 ERP 맞춤형 내보내기 (P1 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] 양식 설정(Column Mapping) 팝업
- [ ] SAP 양식 지원
- [ ] 커스텀 양식 저장

### 🤝 Vendor Auto-Parsing (P1 - 미구현)
```
진행률: ░░░░░░░░░░░░░░░░░░░░ 0%
```

- [ ] 비정형 엑셀 자동 파싱
- [ ] 단가/납기/MOQ 자동 추출

---

## 🎯 이미 구현된 주요 기능

### ✅ P0 완료
- 검색/비교/구매요청 리스트 플로우
- 프로토콜 기반 시약 추출
- 데이터시트 번역/요약
- TSV/CSV/엑셀 내보내기
- 홈 데모 3단 플로우

### ✅ P1 완료
- RFQ 워크플로우
- 리스트 저장/버전/공유
- 예산 관리 + 절감 제안
- 대체품 추천
- 원료(원부자재) 확장

### ✅ P2 완료
- 안전관리자 뷰
- PDF 파싱
- 제약조건 기반 조합 최적화
- KPI 대시보드

### ✅ 이번 세션 추가
- Export Pack (구매팀 제출용)
- Billing/Plan UI
- 업그레이드 모달
- 빌드 시스템 안정화

---

## 📈 우선순위 제안

### 🔴 High Priority (P0 - v3.8 핵심)

1. **검색 정밀화**
   - CAS No., Catalog No. 필터 (정밀 검색 핵심)
   - 요약 뱃지 (즉각적 판단 지원)

2. **AI 신뢰성 UI**
   - 출처 매칭 툴팁 (신뢰도 향상)
   - AI 비교 인사이트 (차별화 요소)

3. **Zero Data Retention**
   - 보안 인디케이터 (B2B 필수)
   - 즉시 파기 로직

### 🟡 Medium Priority (P1 - 차별화)

4. **ERP 맞춤형 내보내기**
   - Column Mapping (B2B 실사용성)

5. **실험 패키지 템플릿**
   - 신입 온보딩 개선

### 🟢 Low Priority (P0.5/P1 - 장기)

6. **벤더 데이터 파이프라인**
   - 데이터 품질 개선

7. **Vendor Auto-Parsing**
   - 벤더 포털 고도화

---

## 💡 다음 스프린트 제안

### Sprint 1: 검색 정밀화 (1주)
- [ ] CAS No. 필드 추가 (DB 스키마)
- [ ] CAS No. 검색 필터 UI
- [ ] Catalog No. 검색 필터 UI
- [ ] 요약 뱃지 컴포넌트

### Sprint 2: AI 신뢰성 (1주)
- [ ] 출처 매칭 데이터 구조
- [ ] 툴팁 UI 구현
- [ ] AI 비교 인사이트 API
- [ ] 한 줄 요약 UI

### Sprint 3: 보안 & 내보내기 (1주)
- [ ] ZDR 로직 구현
- [ ] 보안 인디케이터 UI
- [ ] Column Mapping 팝업
- [ ] ERP 양식 프리셋

---

## 📝 체크리스트 범례

- ✅ 완료 및 배포됨
- ⏳ 부분 구현
- ❌ 미구현
- 🔴 High Priority
- 🟡 Medium Priority
- 🟢 Low Priority

