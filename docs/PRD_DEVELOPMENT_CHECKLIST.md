# PRD 기반 개발 체크리스트

**PRD 버전**: v3.3  
**생성일**: 2025-12-13  
**기준 문서**: `docs/PRD.md`

---

## 📊 전체 현황

- **P0 (MVP)**: ✅ 98% 완료 (변동 없음)
- **P1 (MVP+)**: ✅ 95% 완료 (이전: 90%)
- **P2 (고도화)**: 🔄 50% 완료 (이전: 35%)

---

## 🔴 P0 (MVP) - 높은 우선순위 미완료 항목

### 1. 검색 결과 개선
- [x] **재고 여부 표시** ✅
  - 완료: 재고 상태 배지 추가 (재고 있음/주문 필요/품절)
  - 위치: `/test/search` 검색 결과 리스트

- [x] **예상 납기 표시** ✅
  - 완료: 납기일 포맷팅 개선 ("1일", "1-2주", "1개월" 등)
  - 위치: 검색 결과 리스트

- [x] **Grade/규격 정보 표시** ✅
  - 완료: Grade 배지 스타일 개선
  - 위치: 검색 결과, 제품 상세

- [x] **카탈로그 번호 표시** ✅
  - 완료: 검색 결과 리스트에도 표시 (Cat.No)
  - 위치: `/test/search` 검색 결과 리스트

### 2. 제품 상세 페이지 개선
- [x] **스펙 요약 강화** ✅
  - 완료: 주요 스펙을 카드 형태로 표시 (Grade, 규격/용량, 카탈로그 번호, 규제 규격, 브랜드, 카테고리)
  - 위치: `/products/[id]`

- [x] **사용 용도 설명** ✅
  - 완료: GPT 기반 용도 요약 생성 기능 추가
  - 위치: `/products/[id]`

### 3. 검색엔진 최적화
- [x] **공유 링크 noindex 설정** ✅
  - 완료: `/share/[publicId]` 페이지에 `robots: "noindex, nofollow"` 추가
  - 파일: `apps/web/src/app/share/[publicId]/page.tsx`

---

## 🟡 P1 (MVP+) - 중간 우선순위 미완료 항목

### 1. 안전·규제 정보 기능 (PRD v3.3 핵심)

#### ✅ 완료된 부분
- [x] 제품 상세에 "안전·규제 정보" 섹션
- [x] MSDS/SDS 링크 표시
- [x] 식약처/규제 포털 링크
- [x] 안전 취급 요약 (`safety_note`)

#### ⚠️ 개선 필요
- [x] **MSDS/SDS 링크 검증** ✅
  - 완료: 링크 유효성 검사 (HEAD 요청), 404 처리
  - 위치: `/products/[id]`

- [x] **안전 취급 요약 자동 생성** ✅
  - 완료: MSDS/SDS 텍스트에서 GPT로 자동 추출 기능 추가
  - 위치: `/products/[id]` - "MSDS에서 자동 추출" 버튼
  - API: `/api/products/[id]/safety-extract`

- [ ] **규제 정보 링크 개선**
  - 현재: 공통 링크만 제공
  - 필요: 제품별 규제 정보 매핑 (P2)
  - 우선순위: 낮음

### 2. PDF 업로드 모드 (Mode A)
- [x] **PDF 파일 업로드 기능** ✅
  - 완료: PDF 파일 업로드 및 파싱 활성화
  - 파일: `apps/web/src/app/protocol/bom/page.tsx`
  - API: `POST /api/protocol/extract` (활성화됨)
  - 환경 변수: `PDF_MODE=server-upload` (기본값)

- [ ] **PDF 파싱 정확도 개선**
  - 현재: 기본 구현만
  - 필요: 표, 이미지, 복잡한 레이아웃 처리 개선
  - 우선순위: 중간

### 3. 공유 링크 고도화
- [x] 링크 만료일 설정 ✅
- [x] 링크 비활성화 ✅
- [x] **비교 정보 요약** ✅
  - 완료: 공유 링크에 대체 후보 정보 요약 표시 (comparisonSummary)
  - 위치: `/share/[publicId]`
- [x] 일괄 삭제 API ✅

### 4. 예산 관리 UI
- [x] 예산 API 구현 ✅
- [x] 예산 리포트 표시 ✅
- [x] **예산 설정 UI 개선** ✅
  - 완료: 예산 입력/편집 폼 개선 (입력 검증, 금액 포맷팅, 날짜 유효성 검사)
  - 위치: `/dashboard/budget`

### 5. 액티비티 로그 (P1+)
- [x] 액티비티 로그 API ✅
- [x] 액티비티 로그 페이지 ✅
- [x] **액티비티 로그 활용** ✅
  - 완료: 통계 대시보드에 활용 (활동 유형별, 일별, 시간대별 통계)
  - 위치: `/dashboard` (최근 활동 탭)
  - 필요: 추천 모델 개선에 활용 (P2)

---

## 🟢 P2 (고도화) - 낮은 우선순위 미완료 항목

### 1. 제품 안전 필드 구조화
- [ ] **구조화된 안전 필드**
  - 필요: `hazard_codes`, `pictograms`, `storage_condition`, `ppe` 필드 추가
  - 스키마: `apps/web/prisma/schema.prisma`의 `Product` 모델 확장
  - UI: 안전 정보를 Chip/배지 형태로 표시

- [ ] **안전관리자용 뷰**
  - 필요: 고위험 물질 필터링
  - 필요: MSDS 없는 품목 리스트
  - 필요: 특정 규제 코드 포함 물질 목록
  - 위치: `/dashboard/safety` (새 페이지)

### 2. 프로토콜 분석 고도화
- [x] PDF 업로드 기본 구현 ✅
- [x] 실험 조건 추출 (온도, 시간, 농도, pH) ✅
- [x] **실험 조건 파싱 정확도 개선** ✅
  - 완료: 복잡한 조건 표현식 파싱 개선 (RT, 하룻밤, 범위 표현 등)
  - 위치: `apps/web/src/lib/ai/protocol-extractor.ts`
  - UI: 실험 조건 표시 개선 (범위 및 원본 표현 표시)

- [ ] **프로토콜에서 안전 정보 연계**
  - 필요: 프로토콜에 포함된 물질 중 고위험군 플래그 표시
  - 우선순위: 매우 낮음

### 3. 추천 기능 고도화
- [x] 기본 추천 기능 ✅
- [x] 구매 패턴 분석 ✅
- [x] 최적화 추천 (예산/납기) ✅
- [x] **추천 정확도 개선** ✅
  - 완료: 사용자 피드백 수집 기능 추가
  - 위치: `PersonalizedRecommendations` 컴포넌트
  - API: `/api/recommendations/feedback`

### 4. Enterprise 기능
- [x] SSO 설정 UI ✅
- [x] 감사 로그 (Audit Log) ✅
- [x] 권한 관리 (RBAC) ✅
- [ ] **SSO 실제 연동**
  - 현재: 설정만 가능
  - 필요: Okta/Google SSO 실제 연동 테스트

- [x] **권한 관리 UI 개선** ✅
  - 완료: 역할별 권한 설명 카드, 멤버 목록 및 역할 변경 기능 추가
  - 위치: `/dashboard/settings/enterprise` (권한 관리 탭)

### 5. 재고 관리 모듈
- [x] 재고 관리 페이지 ✅
- [x] 자동 재주문 추천 ✅
- [x] **재고 수준 모니터링** ✅
  - 완료: 재고 부족 알림 UI 및 알림 이력 조회 기능 추가
  - 위치: `/dashboard/inventory` (알림 설정 탭)

### 6. 벤더 포털
- [ ] **벤더 포털 페이지**
  - 필요: 벤더 전용 대시보드
  - 필요: 견적 응답 기능
  - 위치: `/dashboard/vendor` (부분 구현됨)

- [x] **벤더 견적 응답 시스템** ✅
  - 완료: 견적 응답 기능 및 가격 협상 기능 추가
  - 위치: `/dashboard/vendor/quotes`
  - API: `/api/quotes/[id]/responses/[responseId]` (PATCH, GET)

### 7. 그룹웨어 연동
- [ ] **주요 그룹웨어 시스템 연동**
  - 필요: API 연동 (예: SAP, Oracle 등)
  - 우선순위: 매우 낮음

---

## 📋 즉시 개발 가능한 항목 (Quick Wins)

### 1. 검색엔진 noindex 설정
**우선순위**: 높음  
**예상 시간**: 10분  
**파일**: `apps/web/src/app/share/[publicId]/page.tsx`

```tsx
// 추가할 코드
<Head>
  <meta name="robots" content="noindex, nofollow" />
</Head>
```

### 2. 검색 결과에 카탈로그 번호 표시
**우선순위**: 중간  
**예상 시간**: 30분  
**파일**: `apps/web/src/app/test/_components/search-result-item.tsx`

### 3. MSDS/SDS 링크 검증
**우선순위**: 중간  
**예상 시간**: 1시간  
**파일**: `apps/web/src/app/products/[id]/page.tsx`

### 4. PDF 업로드 모드 활성화
**우선순위**: 중간  
**예상 시간**: 30분  
**작업**: 환경 변수 설정 및 UI 활성화

---

## 🎯 다음 개발 우선순위 제안

### Phase 1 (1-2주) - ✅ 완료
1. ✅ 검색엔진 noindex 설정
2. ✅ 검색 결과 개선 (카탈로그 번호, 재고/납기 표시)
3. ✅ MSDS/SDS 링크 검증
4. ✅ PDF 업로드 모드 활성화
5. ✅ 제품 상세 페이지 스펙 요약 강화
6. ✅ 제품 상세 페이지 사용 용도 설명 (GPT 기반)
7. ✅ 예산 설정 UI 개선
8. ✅ 공유 링크 일괄 삭제 API
9. ✅ 벤더 ID 필터링 개선
10. ✅ Footer 링크 페이지 추가
11. ✅ 액티비티 로그 통계 대시보드

### Phase 2 (2-4주) - ✅ 대부분 완료
1. ✅ 공유 링크 비교 정보 요약 (이미 구현됨)
2. ✅ 예산 설정 UI 개선
3. ✅ 액티비티 로그 활용 (통계 대시보드)

### Phase 3 (1-2개월)
1. 제품 안전 필드 구조화
2. 안전관리자용 뷰
3. 프로토콜 분석 고도화
4. SSO 실제 연동

---

## 📝 참고사항

### 데이터 의존 항목
다음 항목들은 제품 데이터가 충분해야 표시 가능:
- 재고 여부
- 예상 납기
- Grade/규격 정보
- 카탈로그 번호

**권장**: 샘플 데이터에 위 정보 포함하여 테스트

### 환경 변수 설정
- `PDF_MODE=true`: PDF 업로드 모드 활성화
- `OPENAI_API_KEY`: GPT 기능 사용

---

**마지막 업데이트**: 2025-12-13 (v2 - 최근 완료 작업 반영)

