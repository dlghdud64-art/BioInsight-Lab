# PRD v3.5 구현 상태 체크리스트

생성일: 2024-12-19
PRD 버전: v3.5

## 📋 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [타깃 유저 & 페르소나](#2-타깃-유저--페르소나)
3. [주요 유저 플로우](#3-주요-유저-플로우)
4. [핵심 기능 (MVP P0)](#4-핵심-기능-mvp-p0)
5. [관리·조직 기능 (P1)](#5-관리조직-기능-p1)
6. [안전·규제 정보](#6-안전규제-정보)
7. [AI/데이터 파이프라인](#7-aidata-파이프라인)
8. [원료(원부자재) 확장](#8-원료원부자재-확장)
9. [수익 모델](#9-수익-모델)
10. [기술 스택](#10-기술-스택)
11. [비기능 요구사항](#11-비기능-요구사항)
12. [로드맵](#12-로드맵)

---

## 1. 프로젝트 개요

### 1.1 목표 ✅
- [x] 바이오·제약 분야 시약·소모품·장비·원료 구매 준비 플랫폼
- [x] 후보 발굴 → 스펙 비교/대체품 검토 → RFQ 준비/회신 정리 → 구매요청 리스트/예산 관리
- [x] 포지션: "쇼핑몰"이 아닌 "구매 준비·견적 정리·예산/안전 인사이트 도구"

### 1.2 문제 정의 ✅
- [x] 홈페이지에 문제 정의 반영됨

### 1.3 핵심 가치 제안 ✅
- [x] 프로토콜 기반 후보 자동 생성
- [x] 스펙 중심 비교 & 대체품 검토 (부분 구현)
- [x] 영문 데이터시트 번역/요약 (부분 구현)
- [x] 견적요청(RFQ) 준비/회신 정리
- [ ] 예산 내 최적 선택 (P1)
- [x] 안전·규제 진입점 (부분 구현)
- [ ] 원료(원부자재) 확장 (P1)

---

## 2. 타깃 유저 & 페르소나

### 2.1 주요 사용자 유형 ✅
- [x] 연구자(R&D Scientist)
- [x] QC/QA 실무자
- [x] 생산/공정 엔지니어
- [x] 구매/자재 담당자
- [x] 원료/자재(원부자재) 담당
- [x] 안전관리자(EHS, P2)

### 2.2 사용 환경 ✅
- [x] 보안망/프록시 환경 가능
- [x] 그룹웨어 직접 연동보다 링크 공유 + 복사/붙여넣기 + 파일(엑셀) 업로드 중심

---

## 3. 주요 유저 플로우

### 3.1 플로우 A – 검색 → 비교 → 구매요청 리스트 ✅
- [x] 키워드 검색
- [x] 후보 선택/추가 → 비교
- [x] 최종 후보를 구매요청 리스트로 이동
- [x] 수량/비고/단가 정리 → TSV/CSV/엑셀 내보내기/공유

### 3.2 플로우 B – 프로토콜 텍스트 → "필요 품목 추출" → 후보 생성 ✅ (P0 핵심 강화)
- [x] 프로토콜 텍스트 붙여넣기
- [x] AI가 실험 유형/타깃/핵심 시약/장비/제약 조건 추출 (JSON)
- [x] 추출 결과를 "품목 후보"로 변환 → 검색 필터/검색어 자동 반영
- [x] 비교/리스트로 이어짐
- [x] Step1(후보 생성) 내부 기능으로 배치

### 3.3 플로우 C – RFQ 발행 → 회신 정리 → 선정 ✅ (P1 핵심)
- [x] 구매요청 리스트에서 RFQ 생성
- [x] 벤더 선택 → 링크 공유 또는 이메일 발송 템플릿 생성
- [x] 벤더가 회신 입력(폼/엑셀/파일)
- [x] 가격/납기/MOQ 등을 품목 단위로 정리 → 비교/선정
- [x] 선정 결과를 "구매요청 리스트 v2"로 확정 → 내보내기/공유

### 3.4 플로우 D – 데이터시트 번역/요약 ✅ (P0~P1)
- [x] 제품 상세/데이터시트 탭에서 영문 데이터시트 텍스트/URL 입력
- [x] 한글 요약 + 핵심 필드(보관/규격/인증 등) 추출
- [ ] 비교 테이블/리스트에 자동 채워 넣기 (부분 구현)

### 3.5 플로우 E – 예산 내 최적 선택 ⏳ (P1)
- [x] 프로젝트/팀 예산 입력(월/분기/프로젝트) - 대시보드에 구현됨
- [x] 리스트 총액과 예산 대비 잔액 표시
- [ ] "절감 제안": 동일 조건 대체품 중 더 저렴한 조합 제안 (미구현)

### 3.6 플로우 F – 안전·규제 확인 ✅ (P1~P2)
- [x] 제품 상세에서 SDS/MSDS/규제 링크/취급 요약 확인
- [ ] P2: 안전관리자 뷰(누락/위험군/규제 코드 필터) (P2)

---

## 4. 핵심 기능 (MVP – P0)

### 4.1 검색(Search) ✅
- [x] 한 줄 검색(자유 입력)
- [x] 필터: 카테고리/벤더/가격(가능 시)
- [x] GPT 보조: 동의어/오타/태깅(카테고리/용도/타깃)
- [x] 결과는 "근거/확신"을 표시

### 4.2 검색 결과 리스트 & 제품 상세 ✅
- [x] 결과 리스트 컬럼: 제품명/벤더/카테고리/가격/짧은 설명
- [x] 액션: 비교 추가, 구매요청 리스트 담기
- [x] 상세 필드(P0 최소): 카탈로그번호/규격/단위/핵심 스펙(최소 3~5)

### 4.3 스펙 중심 비교(Compare) + 대체품 후보 ⏳ (부분 P0)
- [x] 비교 테이블: 제품별 핵심 스펙(키-값)을 가시적으로 노출
- [ ] 대체품 후보: "동일 카테고리 + 유사 스펙" 후보 3개 추천(근거 표시) (부분 구현)
  - [ ] P0는 '추천 리스트 노출'까지만, P1에서 정규화/제약조건 강화

### 4.4 구매요청 리스트(품목 리스트) + 내보내기 ✅
- [x] 컬럼: No/제품명/벤더/규격/단위/수량/단가/금액/비고
- [x] 기능: 편집/삭제/선택 삭제/총액 합산
- [x] 내보내기: TSV 복사 + CSV/엑셀 다운로드
- [x] 공유 링크(P0 옵션): P1로 미룸(저장/권한/버전 필요)

### 4.5 프로토콜 기반 "필요 시약/장비 추출"(Mode B – P0 핵심) ✅
- [x] 입력: 텍스트 붙여넣기
- [x] 출력(JSON): 실험 유형, 타깃, 품목 후보(시약/소모품/장비), 제약 조건(Grade/Storage 등)
- [x] UI: "추출된 품목" 리스트 → 체크해서 바로 구매요청 리스트/비교에 추가
- [x] 실패 시 "확신 낮음" 항목 표시 + 수동 수정

### 4.6 영문 데이터시트 한글 요약/번역 ✅ (P0 라이트)
- [x] "텍스트 붙여넣기" 또는 "URL 붙여넣기(가능하면 서버에서 본문 추출)"
- [x] 한글 요약 + 핵심 필드(보관/규격/인증/주의사항) 추출
- [x] UI: 제품 상세의 "데이터시트 요약" 탭
- [x] 요약 결과를 "스펙 필드"에 복사/반영 버튼 제공

### 4.7 UX – 홈/데모 플로우(3단 유지, Step4 제거) ✅
- [x] Step 1: 후보 생성(검색/프로토콜)
- [x] Step 2: 스펙 비교·대체품 검토
- [x] Step 3: 구매요청·견적 준비(리스트/내보내기/공유)
- [x] RFQ/회신 정리는 P1에서 자연 확장
- [x] "그룹웨어 붙여넣기"는 Step3의 출력 옵션 중 하나로만 언급

---

## 5. 관리·조직 기능 (P1 이후)

### 5.1 사용자/조직/권한 ✅
- [x] Workspace/팀, 역할(일반/관리자)
- [x] 공유 링크 타입:
  - [x] 팀 공유(로그인 필요)
  - [x] 외부 공유(RFQ 전용: 읽기+회신)

### 5.2 리스트 저장/버전 ⏳ (강력 추천)
- [x] 리스트 스냅샷(v1/v2) 저장 (부분 구현)
- [x] 변경 이력/활동 로그
- [ ] 버전 비교 기능 (미구현)

### 5.3 RFQ(견적요청) 워크플로우 ✅ (필수)
- [x] RFQ 상태: Draft → Sent → PartiallyReplied → AllReplied → Selected → Closed
- [x] 회신 입력 방식:
  - [x] 링크 폼(단가/납기/MOQ)
  - [x] 파일 업로드(PDF) + 핵심 필드 수동 입력
  - [x] 엑셀/TSV 붙여넣기

### 5.4 예산/구매내역/최적 선택 ⏳ (P1)
- [x] 예산: 프로젝트/팀/기간별 Budget 설정
- [x] 리스트 총액 vs 예산 시각화
- [ ] "절감 제안(옵션)": 동일 제약조건을 만족하는 대체품 중 더 저렴한 후보를 제안 (미구현)
- [ ] P1은 규칙 기반 + AI 추천 혼합(근거 표시) (미구현)

---

## 6. 안전·규제 정보(유지 + 원료 확장)

### 6.1 제품 상세 "안전·규제 정보" 섹션 ✅ (P1)
- [x] msds_url (없으면 안내)
- [x] 규제 포털 공통 링크
- [x] safety_note(취급 요약)

### 6.2 P2 고도화 ⏳
- [ ] hazard_codes/pictograms/storage/ppe 구조화 (부분 구현)
- [ ] 안전관리자 뷰(누락/위험군/규제코드) (P2)

---

## 7. AI/데이터 파이프라인(신뢰성 강화)

### 7.1 공통 원칙 ✅
- [x] AI 결과는 근거(출처 링크/스니펫) 또는 "확신 낮음/검증 필요" 표기를 기본 제공
- [x] 실패 시 fallback: AI 없이도 검색/리스트는 항상 동작

### 7.2 프로토콜 추출 ✅
- [x] JSON 스키마(zod) 고정 → 파싱 실패/누락 처리 정책 명시
- [x] 사용자 수정(Feedback)로 품질 개선

### 7.3 번역/요약 ✅
- [x] 번역 결과에 "원문/요약/핵심 필드"를 분리 제공
- [x] 민감 정보 업로드/저장 정책(엔터프라이즈에서 옵션)

---

## 8. 원료(원부자재) 확장(신규 섹션)

### 8.1 범위 ⏳
- [ ] 원료/부자재(Excipient/API/Buffer material/Packaging material 등)도 구매 준비의 동일 흐름으로 처리 (부분 구현)
  - [ ] 카테고리에 "원료(원부자재)" 추가 필요

### 8.2 원료 전용 스펙 필드 ⏳ (최소 P1)
- [ ] 규격/Grade(GMP/Pharma grade 등)
- [ ] 규정/표준(Pharmacopoeia 적합 등)
- [ ] COA/Spec Sheet URL
- [ ] Lot/유효기간(구매/입고 시 입력 가능)
- [ ] 원산지/제조사, MOQ, 납기

### 8.3 UI/UX ⏳
- [ ] 카테고리: 시약/소모품/장비/원료(원부자재)
- [ ] 비교 테이블에서 원료는 "규격/인증/COA"를 우선 노출

---

## 9. 수익 모델(구독형 SaaS) – 유지

### 9.1 플랜 구조 ✅
- [x] Free/Beta: 검색/비교/리스트/프로토콜 텍스트 추출(기본) + 번역(제한)
- [x] Team: 공유/저장/버전 + RFQ 기본 + 예산 대시보드 + 안전 섹션
- [x] Enterprise: SSO/권한/감사로그/안전관리자 뷰/커스텀 필드/민감정보 정책

---

## 10. 기술 스택(기본 유지 + 추가 라이브러리 제안)

### 10.1 Frontend ✅
- [x] Next.js 14 App Router, TypeScript, Tailwind, shadcn/ui

### 10.2 상태/데이터 ✅
- [x] TanStack Query
- [x] Zustand(또는 Context)

### 10.3 Backend ✅
- [x] Next.js Route Handlers
- [x] Prisma + PostgreSQL

### 10.4 추가 라이브러리 ✅
- [x] 스키마/검증: zod (프로토콜 추출 JSON 고정)
- [x] 엑셀/CSV 내보내기: xlsx 또는 papaparse
- [ ] (P1) 테이블 가상 스크롤: @tanstack/react-virtual (미구현)
- [ ] (P1) URL 본문 추출: jsdom + @mozilla/readability (데이터시트 요약용) (부분 구현)

---

## 11. 비기능 요구사항

### 11.1 보안 ⏳
- [x] 조직/권한
- [ ] 공유 링크 만료(P2) (미구현)

### 11.2 성능 ✅
- [x] 검색 응답 1~2초 목표
- [x] 리스트/테이블 최적화

### 11.3 데이터 ✅
- [x] 최소 개인정보
- [x] 민감문서 저장 정책 옵션화

---

## 12. 로드맵 요약(업데이트)

### P0(MVP) ✅
- [x] 검색→비교→구매요청 리스트→TSV/엑셀 내보내기
- [x] 프로토콜 텍스트 기반 "필요 품목 추출"
- [x] 영문 데이터시트 텍스트 붙여넣기 번역/요약(라이트)
- [x] 홈 데모 3단(후보→비교/대체→요청/내보내기)

### P1(MVP+1) ⏳
- [x] RFQ 생성/발행/회신 입력/정리(최소)
- [x] 리스트 저장/버전/공유 권한
- [x] 예산 대시보드 + 예산 내 선택 가이드(절감 제안) - 부분 구현
- [x] 안전·규제 상세 섹션 정착
- [ ] 원료(원부자재) 필드/비교 강화
- [ ] URL 기반 데이터시트 요약(가능하면)

### P2~ ⏳
- [ ] 안전 구조화 + 안전관리자 뷰
- [ ] PDF 업로드 파싱(프로토콜/견적서/데이터시트) - 프로토콜 PDF는 구현됨
- [ ] 추천/최적화 고도화(제약조건 기반 조합 최적)

---

## 📊 전체 구현 현황 요약

### ✅ 완료 (P0 핵심)
- 검색/비교/구매요청 리스트 플로우
- 프로토콜 기반 시약 추출 (P0 핵심 강화)
- 데이터시트 번역/요약
- RFQ 워크플로우
- 홈 데모 3단 플로우

### ⏳ 부분 구현
- 대체품 후보 추천
- 예산 내 최적 선택 (절감 제안)
- 원료(원부자재) 확장
- 안전관리자 뷰

### ❌ 미구현 (P1~P2)
- 원료 전용 스펙 필드
- 버전 비교 기능
- 공유 링크 만료
- URL 기반 데이터시트 요약
- PDF 업로드 파싱 (견적서/데이터시트)
- 추천/최적화 고도화

---

## 🎯 다음 우선순위 제안

1. **대체품 후보 추천 강화** (P0 부분 → P1 완성)
2. **예산 내 최적 선택 (절감 제안)** (P1)
3. **원료(원부자재) 카테고리 및 필드 추가** (P1)
4. **안전관리자 뷰** (P2)
5. **URL 기반 데이터시트 요약** (P1)

